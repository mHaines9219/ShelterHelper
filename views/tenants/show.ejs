<%- include('../partials/header') %>

    <section id="show-page">
        <div id="nameLabel">NAME </div>
        <div id="nameField">
            <%= tenant.name %>
        </div>

        <div>SPECIES </div>
        <div>
            <%= tenant.species %>
        </div>

        <div>BREED </div>
        <div>
            <%= tenant.breed %>
        </div>
        <div>AGE </div>
        <div>
            <%= tenant.age %>
        </div>

        <div>MEDICINE </div>
        <div>
            <%= tenant.medicine %>
        </div>

        <div>NOTES </div>
        <div>
            <%= tenant.notes %>
        </div>

        <div>TASKS </div>
        <div>
            <% if(tenant.tasks && tenant.tasks.length> 0) { %>
                <% tenant.tasks.forEach(function(t){ %>
                    <ul>
                        <%= t.task %><input type="checkbox" id="task-checkbox">

                    </ul>
                    <% }); %>
                        <% } %>

        </div>





        <form method="POST" action="/tenants/<%= tenant._id %>?_method=DELETE">
            <button type="submit">DELETE TENANT</button>
        </form>
        <a href="/tenants/<%= tenant._id %>/edit">EDIT</a>
        </form>
    </section>

    <%- include('../partials/footer') %>
        <script>
            const taskCheckbox = document.getElementById('task-checkbox');

            taskCheckbox.addEventListener('onchange', () => {
                // Save the current name to revert back if needed
                const currentName = nameField.checkboxContent;

                // Create a textarea and set its value to the current name
                const textarea = document.createElement('textarea');
                textarea.value = currentName;

                // Replace the current name with the textarea
                nameField.innerHTML = '';
                nameField.appendChild(textarea);

                // Focus the textarea for immediate editing
                textarea.focus();

                // Optional: Create a Save button
                const saveButton = document.createElement('button');
                saveButton.textContent = 'Save';

                saveButton.addEventListener('click', () => {
                    // Get the updated name
                    const updatedName = textarea.value;

                    // Replace the textarea with the updated name
                    nameField.innerHTML = updatedName;

                    // TODO: Use AJAX to send the updated name to the server
                });

                nameField.appendChild(saveButton);
            });
        </script>